<template>
  <base-card style="margin-bottom:10px;font-size:90%;">
    <h2>Welcome to the QuickDeployer</h2>
    <p>The QuickDeployer was designed to work along side the <a href="https://github.com/davidlarrimore/ComponentPackageManagerClient" target="_blank">Component Package Manager Client</a>. It allows for leveraging certain URL parameters to more quickly deploy code/packages to your org. URL Parameters:</p>
    <ul>
      <li><strong>template</strong>: URL To Github Repository</li>
      <li><strong>sandbox</strong>: Target org is a sandbox/scratch org and therefore we will need to use a seperate auth url.</li>        
      <li><strong>quickdeploy</strong>: Skip this screen entirely and go straight to install...</li>     
    </ul>
  </base-card>
  <base-card>
    <template if:true={template}>     
      <p>You are about to install the following Repositories to your Salesforce Org:</p>
      <ul>
        <template iterator:it={templateArray}>
          <li key={it.value} if:false={it.last}><a href={it.value} target="_blank">{it.value}</a> and&nbsp;</li>
          <li key={it.value} if:true={it.last}><a href={it.value} target="_blank">{it.value}</a></li>
        </template>
      </ul>
      <p>
        This is going to install Metadata, run scripts, and generally make changes to an org. <b>Make sure that you're signing in to the right org!</b>
      </p>
      <hr/>
      <p style="text-align:center;">
        <base-button url={salesforceAuthUrl} target="_self" variant="neutral" label="Deploy to Salesforce Org"></base-button>
      </p>
    </template>
    <template if:false={template}>
      <base-illustration
        variant="WalkthroughNotAvailable"
        size="large"
        heading="You need to include a template parameter in the url, which points to an accessible github repo url."
      ></base-illustration>
    </template>
  </base-card>
</template>